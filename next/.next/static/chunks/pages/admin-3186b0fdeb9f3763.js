(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{577:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return a(1257)}])},1257:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return o}});var n=a(5893),s=a(3868),i=a.n(s),r=a(7294),l=a(1163),c=a(5153),d=a(7066);function o(e){let{isAllowed:t,setIsAllowed:a}=e,s=(0,l.useRouter)(),[o,u]=(0,r.useState)(""),[m,_]=(0,r.useState)(""),[x,h]=(0,r.useState)(""),[j,p]=(0,r.useState)(""),[v,N]=(0,r.useState)(""),[C,b]=(0,r.useState)(null),[g,f]=(0,r.useState)(null);(0,r.useEffect)(()=>{t?a(!1):s.push("/")},[s]);let y=async()=>{try{let e=await d.Z.post("".concat(c._,"admin/competition"));201===e.status&&alert("대회가 시작되었습니다.")}catch(e){alert("Error"),console.error("Error fetching subjects:",e)}},w=async()=>{try{let e=await d.Z.patch("".concat(c._,"admin/competition"));204===e.status&&alert("대회가 종료되었습니다.")}catch(e){alert("Error"),console.error("Error fetching subjects:",e)}},E=async()=>{try{let e=await d.Z.post("".concat(c._,"admin/subject"),{name:m,content:x,level:o,testCase:j,correctOutput:v});201===e.status&&(alert("문제가 정상적으로 등록되었습니다."),_(""),h(""),u(""),p(""),N(""))}catch(e){alert("Error"),console.error("Error fetching subjects:",e)}},B=async()=>{try{let e=await d.Z.get("".concat(c._,"admin/result/list"));200===e.status&&(b(e.data),alert("결과 리스트 불러오기 성공"))}catch(e){alert("Error"),console.error("Error fetching subjects:",e)}},W=e=>{g===e?f(null):f(e)};return(0,n.jsxs)("div",{className:i().layout,children:[(0,n.jsxs)("div",{className:i().header,children:[(0,n.jsx)("div",{className:i().logo,children:"Admin Page"}),(0,n.jsxs)("div",{className:i().btnContainer,children:[(0,n.jsx)("button",{className:i().adminBtn,onClick:y,children:"대회 시작"}),(0,n.jsx)("button",{className:i().adminBtn,onClick:w,children:"대회 종료"})]})]}),(0,n.jsxs)("div",{className:i().adminContainer,children:[(0,n.jsxs)("div",{className:i().subjectContainer,children:[(0,n.jsx)("div",{className:i().containerTitle,children:"문제 등록"}),(0,n.jsxs)("div",{className:i().inputWrapper,children:[(0,n.jsx)("div",{className:i().title,children:"문제 레벨 (Number-고유키)"}),(0,n.jsx)("input",{type:"text",value:o,onChange:e=>u(e.target.value),className:i().textColor})]}),(0,n.jsxs)("div",{className:i().inputWrapper,children:[(0,n.jsx)("div",{className:i().title,children:"문제 이름"}),(0,n.jsx)("input",{type:"text",value:m,onChange:e=>_(e.target.value),className:i().textColor})]}),(0,n.jsxs)("div",{className:i().inputWrapper,children:[(0,n.jsx)("div",{className:i().title,children:"문제 설명"}),(0,n.jsx)("textarea",{className:i().textAreaBox,rows:5,value:x,onChange:e=>h(e.target.value)})]}),(0,n.jsxs)("div",{className:i().inputWrapper,children:[(0,n.jsx)("div",{className:i().title,children:"테스트 케이스"}),(0,n.jsx)("textarea",{className:i().textAreaBox,rows:5,value:j,onChange:e=>p(e.target.value)})]}),(0,n.jsxs)("div",{className:i().inputWrapper,children:[(0,n.jsx)("div",{className:i().title,children:"정상 출력"}),(0,n.jsx)("textarea",{className:i().textAreaBox,rows:5,value:v,onChange:e=>N(e.target.value)})]}),(0,n.jsx)("div",{className:i().btnContainer,children:(0,n.jsx)("button",{className:i().adminBtn,onClick:E,children:"문제 등록하기"})})]}),(0,n.jsxs)("div",{className:i().subjectContainer,children:[(0,n.jsx)("div",{className:i().containerTitle,children:"대회 결과"}),(0,n.jsxs)("div",{className:i().btnContainer,children:[(0,n.jsx)("button",{className:i().adminBtn,onClick:B,children:"결과 조회하기"}),C?C.map((e,t)=>(0,n.jsxs)("div",{className:i().listWrapper,onClick:()=>W(t),children:[(0,n.jsxs)("div",{className:i().listSummary,children:[(0,n.jsx)("p",{children:e.intraId}),(0,n.jsxs)("p",{className:i().grade,children:[e.grade,"점"]})]}),g===t&&(0,n.jsx)("div",{className:i().listDetail,children:e.subjects.map((e,a)=>(0,n.jsxs)("div",{className:i().listDetail,children:[e.solved?(0,n.jsx)("p",{children:"✅"}):(0,n.jsx)("p",{children:"❌"}),(0,n.jsx)("p",{children:" | "}),(0,n.jsxs)("p",{children:["level: ",e.level]}),(0,n.jsx)("p",{children:" | "}),(0,n.jsx)("p",{children:e.name})]},"".concat(t,"_").concat(a)))})]},t)):null]})]})]})]})}},5153:function(e,t,a){"use strict";a.d(t,{_:function(){return n}});let n="".concat("https://192.168.35.25:443/blind/")},3868:function(e){e.exports={"text-bold":"admin_text-bold__In6GS","text-regular":"admin_text-regular__twb9w",layout:"admin_layout__liavC",header:"admin_header__Vo7Vj",logo:"admin_logo__conDT",btnContainer:"admin_btnContainer__V853u",adminBtn:"admin_adminBtn__63Rc5",containerTitle:"admin_containerTitle__ptaYj",adminContainer:"admin_adminContainer__Nf5Y_",subjectContainer:"admin_subjectContainer__Wb7jt",inputWrapper:"admin_inputWrapper__BvA1f",textColor:"admin_textColor__AITCZ",title:"admin_title__87ueB",listContainer:"admin_listContainer__eOZ_t",listWrapper:"admin_listWrapper__UWo94",grade:"admin_grade__klEce",listSummary:"admin_listSummary__5HXMc",listDetail:"admin_listDetail__fB1QO"}}},function(e){e.O(0,[143,888,774,179],function(){return e(e.s=577)}),_N_E=e.O()}]);